
@{
    Layout = null;
}
@model Model.RoleModel
<!DOCTYPE html>

<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>right_list_information</title>
    <link href="~/css/table.css" rel="stylesheet" />
    <script src="~/Scripts/jquery-1.10.2.js"></script>
    <script src="~/Scripts/jquery-easyui-1.3.5/jquery.min.js"></script>
    <script src="~/Scripts/jquery-easyui-1.3.5/jquery.easyui.min.js"></script>
    <link href="~/Scripts/jquery-easyui-1.3.5/themes/default/easyui.css" rel="stylesheet" />
    <link href="~/Scripts/jquery-easyui-1.3.5/themes/icon.css" rel="stylesheet" />
    <script src="~/Scripts/jquery-easyui-1.3.5/locale/easyui-lang-zh_CN.js"></script>
    <script src="~/Scripts/right_list_information.js"></script>
    <style type="text/css">
        .parent {
            margin-left: 50px;
        }
        .children {
            margin-left: 20%;
        }
    </style>
</head>
<body>
    <div>
@using (Ajax.BeginForm("right_list_information", new AjaxOptions() { HttpMethod = "post" }))
{
        <form id="powerAction!doModifyRight" name="powerAction!doModifyRight" action="success.html" method="post">
            <table width="100%">
                <tr>
                    <td>
                        <font color="black">您正在做的业务是：人力资源--权限管理--编辑角色</font>
                    </td>
                </tr>
                <tr>
                    <td align="right">
                        <input id="Submit1" type="submit" value="保存" class="BUTTON_STYLE1" v-on:click="QS"/>
                        <input id="Submit1" type="button" value="返回" class="BUTTON_STYLE1" />
                    </td>
                </tr>
            </table>
            <table width="100%" border="1" cellpadding=3 cellspacing=1
                   bordercolorlight=#848284 bordercolordark=#eeeeee
                   class="TABLE_STYLE1">
                <tr>
                    <td class="TD_STYLE1">角色编号</td>
                    <td class="TD_STYLE2">
              @Html.TextBox("RoleID", Model.RoleID, new { @class = "INPUT_STYLE1", @readonly = "readonly" })
                    </td>
                    <td class="TD_STYLE1">角色名称</td>
                    <td class="TD_STYLE2">
              @Html.TextBox("RoleName", Model.RoleName,new { @class = "INPUT_STYLE1"})
                    </td>
                </tr>
                <tr>
                    <td class="TD_STYLE1">角色说明</td>
                    <td class="TD_STYLE2">
                       @Html.TextBox("RoleExplain", Model.RoleExplain, new { @class = "INPUT_STYLE1"})
                    </td>
                    <td class="TD_STYLE1">角色是否可用</td>
                    <td class="TD_STYLE2">
                    @Html.RadioButton("IsOK", "是")@Html.Label("是") @Html.RadioButton("IsOK", "否")@Html.Label("否")
                    </td>
                </tr>
            </table>
            <hr />
            <ul id="tt"></ul> 
        </form>
}
    </div>
    @*<script type="text/javascript">
        var vm=new Vue({
        methods:{
            //修改
                QS: function () {
                    //修改角色权限表的数据
                    //关键点：获取所有的权限ID
                    var fid = "";
                    var rid = $("#UP").text();
                    //获取打全勾
                    var nodes = $('#tt').tree('getChecked');
                    for (var i = 0; i < nodes.length; i++) {
                        fid += nodes[i].id + ",";
                    }
                    //console.info(nodes);
                    //获取打半勾
                    var nodes1 = $('#tt').tree('getChecked', 'indeterminate');
                    for (var i = 0; i < nodes1.length; i++) {
                        fid += nodes1[i].id + ",";
                    }
                    fid = fid.substring(0, fid.length - 1);
                    var list = fid.split(",");
                    var arr = new Array();
                    for (var i = 0; i < list.length; i++) {
                        arr[i] = { a: list[i] };
                    }
                    //发送ajax
                    $.ajax({
                        url: "Handler3.ashx",
                        type: "post",
                        data: "fid=" + JSON.stringify(arr) + "&rid=" + rid,
                        success: function (zhi) {
                            if (zhi == "ok") {
                                alert("修改成功!");
                                window.location.reload();
                            } else {
                                alert("修改失败!");
                            }
                        }
                    });
                }
        },
            created: function () {
                this.load();
            }
        })
    </script>*@
</body>
</html>
